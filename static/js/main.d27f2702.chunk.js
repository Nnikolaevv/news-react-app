(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{28:function(e,n,t){},29:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t.n(c),i=t(14),s=t.n(i),l=(t(28),t(29),t(9)),a=t(3),u=t(4),o=(t(33),function(e){return e.newsPage.news}),j=function(e){return e.newsPage.currentPublisher},b=t(1),d=function(){var e=Object(u.c)(o);return Object(b.jsx)(b.Fragment,{children:e.map((function(e){return Object(b.jsxs)("div",{className:"publisher-item",onClick:function(){return window.open(e.url)},children:[Object(b.jsx)("img",{src:e.publisher_logo_url,alt:"logo"}),Object(b.jsxs)("span",{children:[" ",e.title]})]},e.id)}))})},O=t(18),h=t.n(O),f=t(21),p=t(20),x=t(10),v=window.JsAPI,w="news/SET_NEWS",E="news/SET_CURRENT_PUBLISHER",m="news/SET_RESET_NEWS",g={news:[],currentPublisher:null},_=function(e){return{type:w,newsList:e}},N=function(e,n){return function(){var t=Object(f.a)(h.a.mark((function t(c){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.getNews(e,n,c);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P={getNews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,t=arguments.length>2?arguments[2]:void 0;return v.Dao.getArticles({block_id:84683,count:n,publisher:e,fields:v.Dao.ArticleField.TITLE|v.Dao.ArticleField.PUBLISHER_ID|v.Dao.ArticleField.PUBLISHER_LOGO_URL|v.Dao.ArticleField.PUBLISHER_NAME|v.Dao.ArticleField.PUBLISHER_ID|v.Dao.ArticleField.URL},(function(e){console.log(e),t(_(e))}),(function(e){console.warn(e)}))}},L=function(e){var n=Object(u.b)();return Object(c.useEffect)((function(){n(N())}),[]),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"publisher-container",children:Object(b.jsx)(d,{})})})},S=function(e){var n=Object(u.b)(),t=Object(a.f)(),r=Object(u.c)(j);return Object(c.useEffect)((function(){t.push({pathname:"/publisher/".concat(r)})}),[]),Object(c.useEffect)((function(){n(N(r))}),[r]),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"publisher-container",children:Object(b.jsx)(d,{})})})},I=function(){var e=Object(u.b)(),n=Object(u.c)(j);Object(c.useEffect)((function(){e({type:m})})),Object(c.useEffect)((function(){return document.addEventListener("scroll",t),function(){document.removeEventListener("scroll",t)}}),[n]);var t=function(t){var c=t.target.documentElement;c.scrollHeight-(c.scrollTop+window.innerHeight)<100&&e(N(n,10))};return Object(b.jsx)("div",{children:Object(b.jsxs)(a.c,{children:[Object(b.jsx)(a.a,{exact:!0,path:"/",children:Object(b.jsx)(L,{})}),Object(b.jsx)(a.a,{path:"/publisher/:publisherId",children:Object(b.jsx)(S,{})})]})})},D=function(){var e=Object(u.b)(),n=function(n){e(function(e){return{type:E,publisher:e}}(n))};return Object(b.jsx)("header",{children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"inner-content",children:[Object(b.jsx)("div",{className:"brand",children:Object(b.jsx)(l.b,{to:"/",onClick:function(){return n(0)},children:"All News"})}),Object(b.jsxs)("ul",{className:"nav-links",children:[Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/publisher/50",onClick:function(){return n(50)},className:"btn",children:" Publisher-50"})}),Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{to:"/publisher/236",onClick:function(){return n(236)},className:"btn",children:" Publisher-236 "})})]})]})})})};var T=function(){return Object(b.jsx)(l.a,{children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(D,{}),Object(b.jsx)(I,{})]})})},A=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,39)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,i=n.getLCP,s=n.getTTFB;t(e),c(e),r(e),i(e),s(e)}))},F=t(13),R=t(23),k=Object(F.b)({newsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case w:return Object(x.a)(Object(x.a)({},e),{},{news:[].concat(Object(p.a)(e.news),Object(p.a)(n.newsList))});case E:return Object(x.a)(Object(x.a)({},e),{},{currentPublisher:n.publisher});case m:return Object(x.a)(Object(x.a)({},e),{},{news:[]});default:return e}}}),C=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.c,U=Object(F.d)(k,C(Object(F.a)(R.a)));window.__store__=U;var y=U;s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(u.a,{store:y,children:Object(b.jsx)(T,{})})}),document.getElementById("root")),A()}},[[38,1,2]]]);
//# sourceMappingURL=main.d27f2702.chunk.js.map